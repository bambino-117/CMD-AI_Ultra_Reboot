<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Analyzer - Interface OSINT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #065f46 0%, #047857 100%);
            color: #E2E8F0;
        }
        .analyzer-glow { box-shadow: 0 0 20px rgba(34, 197, 94, 0.5); }
    </style>
</head>
<body class="min-h-screen p-4">

    <div class="max-w-7xl mx-auto">
        <!-- Header -->
        <div class="bg-green-900/50 backdrop-blur rounded-2xl p-6 mb-6 border border-green-500 analyzer-glow">
            <h1 class="text-4xl font-bold text-white flex items-center mb-4">
                <span class="text-green-400 mr-3">📊</span>
                Data Analyzer
                <span class="text-green-400 ml-3">📈</span>
            </h1>
            <p class="text-green-200 text-lg">
                Analyse et visualisation de données OSINT avec IA
            </p>
        </div>

        <!-- Navigation Tabs -->
        <div class="bg-gray-900/80 backdrop-blur rounded-xl mb-6 border border-gray-600">
            <div class="flex flex-wrap">
                <button onclick="showSection('analyze')" class="tab-btn bg-green-600 text-white px-6 py-3 rounded-tl-xl font-medium">📊 Analyser</button>
                <button onclick="showSection('visualize')" class="tab-btn bg-gray-700 text-gray-300 px-6 py-3 font-medium hover:bg-gray-600">📈 Visualiser</button>
                <button onclick="showSection('interpret')" class="tab-btn bg-gray-700 text-gray-300 px-6 py-3 font-medium hover:bg-gray-600">🧠 Interpréter</button>
                <button onclick="showSection('patterns')" class="tab-btn bg-gray-700 text-gray-300 px-6 py-3 font-medium hover:bg-gray-600">🔍 Patterns</button>
                <button onclick="showSection('report')" class="tab-btn bg-gray-700 text-gray-300 px-6 py-3 rounded-tr-xl font-medium hover:bg-gray-600">📋 Rapports</button>
            </div>
        </div>

        <!-- Analyze Section -->
        <div id="analyze-section" class="content-section">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="bg-gray-900/80 backdrop-blur rounded-xl p-6 border border-gray-600">
                    <h3 class="text-xl font-bold text-white mb-4">📥 Import de données</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-gray-300 mb-2">Type de données :</label>
                            <select id="data-type" class="w-full bg-gray-800 text-white rounded-lg px-4 py-2 border border-gray-600">
                                <option value="osint">🕵️ Données OSINT</option>
                                <option value="network">🌐 Données Réseau</option>
                                <option value="social">📱 Réseaux Sociaux</option>
                                <option value="email">📧 Données Email</option>
                                <option value="domain">🌍 Données Domaine</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-300 mb-2">Données à analyser :</label>
                            <textarea id="data-input" class="w-full h-32 bg-gray-800 text-white rounded-lg px-4 py-2 border border-gray-600" placeholder="Collez vos données ici (JSON, CSV, texte...)"></textarea>
                        </div>
                        <button onclick="analyzeData()" class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-500 transition-colors font-medium">
                            🚀 Lancer l'analyse
                        </button>
                    </div>
                </div>
                
                <div class="bg-gray-900/80 backdrop-blur rounded-xl p-6 border border-gray-600">
                    <h3 class="text-xl font-bold text-white mb-4">📊 Résultats d'analyse</h3>
                    <div id="analyze-results" class="bg-black/50 p-4 rounded-lg h-64 overflow-y-auto text-green-400 font-mono text-sm">
                        Sélectionnez un type de données et lancez l'analyse...
                    </div>
                </div>
            </div>
        </div>

        <!-- Visualize Section -->
        <div id="visualize-section" class="content-section hidden">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="bg-gray-900/80 backdrop-blur rounded-xl p-6 border border-gray-600">
                    <h3 class="text-xl font-bold text-white mb-4">📈 Générateur de graphiques</h3>
                    <div class="space-y-4">
                        <div class="grid grid-cols-2 gap-2">
                            <button onclick="generateChart('timeline')" class="bg-blue-600 text-white py-2 rounded hover:bg-blue-500">📅 Timeline</button>
                            <button onclick="generateChart('network')" class="bg-purple-600 text-white py-2 rounded hover:bg-purple-500">🕸️ Réseau</button>
                            <button onclick="generateChart('bar')" class="bg-orange-600 text-white py-2 rounded hover:bg-orange-500">📊 Barres</button>
                            <button onclick="generateChart('pie')" class="bg-pink-600 text-white py-2 rounded hover:bg-pink-500">🥧 Secteurs</button>
                        </div>
                        <div>
                            <label class="block text-gray-300 mb-2">Données pour graphique :</label>
                            <textarea id="chart-data" class="w-full h-24 bg-gray-800 text-white rounded-lg px-4 py-2 border border-gray-600" placeholder="Données séparées par virgules ou JSON"></textarea>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-900/80 backdrop-blur rounded-xl p-6 border border-gray-600">
                    <h3 class="text-xl font-bold text-white mb-4">📊 Visualisation</h3>
                    <div class="bg-white rounded-lg p-4 h-64">
                        <canvas id="dataChart" width="400" height="200"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Interpret Section -->
        <div id="interpret-section" class="content-section hidden">
            <div class="bg-gray-900/80 backdrop-blur rounded-xl p-6 border border-gray-600">
                <h3 class="text-xl font-bold text-white mb-4">🧠 Interprétation IA</h3>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-gray-300 mb-2">Données à interpréter :</label>
                        <textarea id="interpret-input" class="w-full h-32 bg-gray-800 text-white rounded-lg px-4 py-2 border border-gray-600" placeholder="Résultats d'analyse à interpréter..."></textarea>
                        <button onclick="interpretData()" class="mt-4 w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-500 transition-colors">
                            🤖 Interpréter avec IA
                        </button>
                    </div>
                    <div>
                        <label class="block text-gray-300 mb-2">Interprétation :</label>
                        <div id="interpret-results" class="bg-black/50 p-4 rounded-lg h-40 overflow-y-auto text-purple-400 text-sm">
                            L'IA analysera vos données et fournira une interprétation...
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Patterns Section -->
        <div id="patterns-section" class="content-section hidden">
            <div class="bg-gray-900/80 backdrop-blur rounded-xl p-6 border border-gray-600">
                <h3 class="text-xl font-bold text-white mb-4">🔍 Détection de patterns</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <div class="bg-red-900/30 p-4 rounded-lg border border-red-500">
                        <h4 class="font-bold text-red-200 mb-2">🚨 Anomalies</h4>
                        <div id="anomalies-list" class="text-red-300 text-sm">
                            Aucune anomalie détectée
                        </div>
                    </div>
                    <div class="bg-yellow-900/30 p-4 rounded-lg border border-yellow-500">
                        <h4 class="font-bold text-yellow-200 mb-2">⚠️ Patterns suspects</h4>
                        <div id="suspicious-patterns" class="text-yellow-300 text-sm">
                            Aucun pattern suspect
                        </div>
                    </div>
                    <div class="bg-blue-900/30 p-4 rounded-lg border border-blue-500">
                        <h4 class="font-bold text-blue-200 mb-2">📈 Tendances</h4>
                        <div id="trends-list" class="text-blue-300 text-sm">
                            Aucune tendance identifiée
                        </div>
                    </div>
                </div>
                <button onclick="detectPatterns()" class="w-full bg-orange-600 text-white py-3 rounded-lg hover:bg-orange-500 transition-colors font-medium">
                    🔍 Détecter les patterns
                </button>
            </div>
        </div>

        <!-- Report Section -->
        <div id="report-section" class="content-section hidden">
            <div class="bg-gray-900/80 backdrop-blur rounded-xl p-6 border border-gray-600">
                <h3 class="text-xl font-bold text-white mb-4">📋 Génération de rapports</h3>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-gray-300 mb-2">Type de rapport :</label>
                                <select id="report-type" class="w-full bg-gray-800 text-white rounded-lg px-4 py-2 border border-gray-600">
                                    <option value="summary">📄 Résumé exécutif</option>
                                    <option value="detailed">📊 Rapport détaillé</option>
                                    <option value="technical">🔧 Rapport technique</option>
                                    <option value="timeline">📅 Timeline des événements</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-gray-300 mb-2">Format d'export :</label>
                                <div class="flex gap-2">
                                    <button onclick="exportReport('pdf')" class="flex-1 bg-red-600 text-white py-2 rounded hover:bg-red-500">📄 PDF</button>
                                    <button onclick="exportReport('html')" class="flex-1 bg-blue-600 text-white py-2 rounded hover:bg-blue-500">🌐 HTML</button>
                                    <button onclick="exportReport('json')" class="flex-1 bg-green-600 text-white py-2 rounded hover:bg-green-500">📋 JSON</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <label class="block text-gray-300 mb-2">Aperçu du rapport :</label>
                        <div id="report-preview" class="bg-black/50 p-4 rounded-lg h-48 overflow-y-auto text-gray-300 text-sm">
                            Sélectionnez un type de rapport pour voir l'aperçu...
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Log Section -->
        <div class="mt-6 bg-black/50 rounded-lg p-4">
            <h4 class="text-white font-bold mb-2">📋 Journal Data Analyzer</h4>
            <div id="analyzer-log" class="bg-black p-3 rounded text-green-400 font-mono text-sm h-24 overflow-y-auto">
                [INIT] Data Analyzer Interface chargée
            </div>
        </div>
    </div>

    <script>
        let currentChart = null;

        function logMessage(message, type = 'info') {
            const log = document.getElementById('analyzer-log');
            const timestamp = new Date().toLocaleTimeString();
            const colors = {
                'info': 'text-green-400',
                'warning': 'text-yellow-400',
                'error': 'text-red-400',
                'success': 'text-blue-400'
            };
            const color = colors[type] || 'text-green-400';
            log.innerHTML += `<div class="${color}">[${timestamp}] ${message}</div>`;
            log.scrollTop = log.scrollHeight;
        }

        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Reset all tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('bg-green-600', 'text-white');
                btn.classList.add('bg-gray-700', 'text-gray-300');
            });
            
            // Show selected section
            document.getElementById(sectionId + '-section').classList.remove('hidden');
            
            // Highlight active tab
            event.target.classList.remove('bg-gray-700', 'text-gray-300');
            event.target.classList.add('bg-green-600', 'text-white');
            
            logMessage(`Section ${sectionId} activée`, 'info');
        }

        function analyzeData() {
            const dataType = document.getElementById('data-type').value;
            const dataInput = document.getElementById('data-input').value.trim();
            const resultsDiv = document.getElementById('analyze-results');
            
            if (!dataInput) {
                resultsDiv.textContent = 'Erreur: Aucune donnée fournie';
                logMessage('Erreur: Données manquantes', 'error');
                return;
            }
            
            logMessage(`Analyse ${dataType} lancée`, 'info');
            
            // Simulation d'analyse
            const results = generateAnalysisResults(dataType, dataInput);
            resultsDiv.innerHTML = results;
            
            logMessage(`Analyse ${dataType} terminée`, 'success');
        }

        function generateAnalysisResults(type, data) {
            const dataLength = data.length;
            const wordCount = data.split(/\s+/).length;
            
            switch(type) {
                case 'osint':
                    return `🕵️ ANALYSE DONNÉES OSINT
                    
📊 Statistiques:
• Taille des données: ${dataLength} caractères
• Nombre de mots: ${wordCount}
• Emails détectés: ${(data.match(/@/g) || []).length}
• URLs détectées: ${(data.match(/https?:\/\//g) || []).length}
• IPs détectées: ${(data.match(/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/g) || []).length}

🔍 Analyse de contenu:
• Domaines uniques: ${new Set((data.match(/[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g) || [])).size}
• Patterns suspects: ${Math.floor(Math.random() * 3)}
• Score de confiance: ${Math.floor(Math.random() * 40 + 60)}%`;

                case 'network':
                    return `🌐 ANALYSE DONNÉES RÉSEAU
                    
📊 Métriques réseau:
• Connexions analysées: ${Math.floor(wordCount / 10)}
• Ports uniques: ${Math.floor(Math.random() * 50 + 10)}
• Protocoles détectés: TCP, UDP, HTTP, HTTPS
• Anomalies: ${Math.floor(Math.random() * 5)}

🔒 Sécurité:
• Tentatives de connexion suspectes: ${Math.floor(Math.random() * 10)}
• Trafic chiffré: ${Math.floor(Math.random() * 80 + 20)}%
• Score de risque: ${Math.floor(Math.random() * 30 + 10)}/100`;

                default:
                    return `📊 ANALYSE GÉNÉRALE
                    
📈 Statistiques de base:
• Taille: ${dataLength} caractères
• Mots: ${wordCount}
• Lignes: ${data.split('\n').length}
• Caractères uniques: ${new Set(data).size}

🔍 Patterns détectés:
• Répétitions: ${Math.floor(Math.random() * 20)}
• Structures: ${Math.floor(Math.random() * 10)}
• Anomalies: ${Math.floor(Math.random() * 5)}`;
            }
        }

        function generateChart(type) {
            const chartData = document.getElementById('chart-data').value.trim();
            const ctx = document.getElementById('dataChart').getContext('2d');
            
            if (currentChart) {
                currentChart.destroy();
            }
            
            let config = {};
            
            switch(type) {
                case 'bar':
                    config = {
                        type: 'bar',
                        data: {
                            labels: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai'],
                            datasets: [{
                                label: 'Données OSINT',
                                data: [12, 19, 3, 5, 2],
                                backgroundColor: 'rgba(34, 197, 94, 0.6)'
                            }]
                        }
                    };
                    break;
                case 'pie':
                    config = {
                        type: 'pie',
                        data: {
                            labels: ['Emails', 'Domaines', 'IPs', 'Autres'],
                            datasets: [{
                                data: [30, 25, 20, 25],
                                backgroundColor: ['#ef4444', '#3b82f6', '#10b981', '#f59e0b']
                            }]
                        }
                    };
                    break;
                default:
                    config = {
                        type: 'line',
                        data: {
                            labels: ['00:00', '06:00', '12:00', '18:00', '24:00'],
                            datasets: [{
                                label: 'Activité',
                                data: [5, 15, 25, 20, 10],
                                borderColor: 'rgb(34, 197, 94)',
                                tension: 0.1
                            }]
                        }
                    };
            }
            
            currentChart = new Chart(ctx, config);
            logMessage(`Graphique ${type} généré`, 'success');
        }

        function interpretData() {
            const input = document.getElementById('interpret-input').value.trim();
            const resultsDiv = document.getElementById('interpret-results');
            
            if (!input) {
                resultsDiv.textContent = 'Aucune donnée à interpréter';
                return;
            }
            
            logMessage('Interprétation IA lancée', 'info');
            
            // Simulation d'interprétation IA
            setTimeout(() => {
                resultsDiv.innerHTML = `🤖 INTERPRÉTATION IA:

🔍 Analyse contextuelle:
Les données analysées montrent des patterns typiques d'une activité OSINT normale avec quelques éléments d'intérêt.

📊 Points clés identifiés:
• Concentration d'activité entre 12h-18h
• Domaines principalement .com et .org
• Géolocalisation centrée sur l'Europe
• Aucun indicateur de compromission majeur

⚠️ Recommandations:
• Surveiller les pics d'activité inhabituels
• Vérifier l'authenticité des domaines récents
• Approfondir l'analyse des IPs suspectes

🎯 Score de confiance: 87%`;
                
                logMessage('Interprétation IA terminée', 'success');
            }, 2000);
        }

        function detectPatterns() {
            logMessage('Détection de patterns lancée', 'info');
            
            // Simulation de détection
            setTimeout(() => {
                document.getElementById('anomalies-list').innerHTML = `
                    • Pic d'activité à 14:32 (+300%)
                    • Nouvelle IP: 192.168.1.100
                    • Domaine récent: suspicious-site.com
                `;
                
                document.getElementById('suspicious-patterns').innerHTML = `
                    • Requêtes répétitives (x50)
                    • Géolocalisation incohérente
                    • User-Agent inhabituel
                `;
                
                document.getElementById('trends-list').innerHTML = `
                    • Augmentation trafic HTTPS (+15%)
                    • Nouveaux domaines .tk (+5)
                    • Activité nocturne en hausse
                `;
                
                logMessage('Patterns détectés et analysés', 'success');
            }, 1500);
        }

        function exportReport(format) {
            const reportType = document.getElementById('report-type').value;
            logMessage(`Export rapport ${reportType} en ${format}`, 'info');
            
            // Simulation d'export
            setTimeout(() => {
                alert(`📄 Rapport ${reportType} exporté en ${format.toUpperCase()}\n\nLe fichier sera téléchargé automatiquement.`);
                logMessage(`Rapport exporté: ${reportType}.${format}`, 'success');
            }, 1000);
        }

        // Initialize
        logMessage('Data Analyzer prêt pour l\'analyse', 'success');
    </script>
</body>
</html>